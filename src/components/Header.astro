---
import HeaderLink from "./HeaderLink.astro";
import { SITE_TITLE } from "../consts";
---

<script>
  const open = document.getElementById("open-menu") as HTMLElement;
  const close = document.getElementById("close-menu") as HTMLElement;
  const menu = document.getElementById("mobile-menu") as HTMLElement;

  open.addEventListener("click", () => {
    menu.classList.remove("hidden");
    open.classList.add("hidden");
    close.classList.remove("hidden");
  });

  close.addEventListener("click", () => {
    menu.classList.add("hidden");
    open.classList.remove("hidden");
    close.classList.add("hidden");
  });
</script>

<header>
  <nav class="flex items-center justify-between md:items-center pt-2">
    <div class=" md:block flex items-center justify-center w-[40%] text-center md:w-[14%] md:text-righ py-2">
      <a class=" block font-extrabold text-2xl md:text-3xl xl:text-4xl md:mt-2" href="/">{SITE_TITLE}</a>
    </div>

    <div
      class="hidden md:flex w-[34%] text-2xl font-medium justify-between items-center gap-5 p-2"
    >
      <HeaderLink href="/">Home</HeaderLink>
      <HeaderLink href="/about">About</HeaderLink>
      <HeaderLink href="/products">Products</HeaderLink>
      <HeaderLink href="/blog">Blog</HeaderLink>
    </div>

    <div class="flex justify-center w-[20%] py-2">
      <svg
        id="open-menu"
        class="md:hidden"
        xmlns="http://www.w3.org/2000/svg"
        x="0px"
        y="0px"
        width="28"
        height="28"
        viewBox="0 0 50 50"
      >
        <path
          d="M 5 8 A 2.0002 2.0002 0 1 0 5 12 L 45 12 A 2.0002 2.0002 0 1 0 45 8 L 5 8 z M 5 23 A 2.0002 2.0002 0 1 0 5 27 L 45 27 A 2.0002 2.0002 0 1 0 45 23 L 5 23 z M 5 38 A 2.0002 2.0002 0 1 0 5 42 L 45 42 A 2.0002 2.0002 0 1 0 45 38 L 5 38 z"
        ></path>
      </svg>

      <svg
        id="close-menu"
        class="hidden md:hidden"
        xmlns="http://www.w3.org/2000/svg"
        x="0px"
        y="0px"
        width="28"
        height="28"
        viewBox="0 0 50 50"
      >
        <path
          d="M 9.15625 6.3125 L 6.3125 9.15625 L 22.15625 25 L 6.21875 40.96875 L 9.03125 43.78125 L 25 27.84375 L 40.9375 43.78125 L 43.78125 40.9375 L 27.84375 25 L 43.6875 9.15625 L 40.84375 6.3125 L 25 22.15625 Z"
        ></path>
      </svg>
    </div>
  </nav>

  <div
    id="mobile-menu"
    class="hidden justify-center md:hidden bg-gray-50 rounded-2xl text-white py-4"
  >
    <ul class="flex flex-col space-y-2 items-center">
      <li><a href="/" class="hover:underline">Home</a></li>
      <li><a href="/about" class="hover:underline">About</a></li>
      <li><a href="/products" class="hover:underline">Products</a></li>
      <li><a href="/blog" class="hover:underline">Blog</a></li>
    </ul>
  </div>
</header>
<style>
  header {
    margin: 0;
    padding: 0 1em;
    background: white;
    box-shadow: 0 2px 8px rgba(var(--black), 5%);
  }
</style>
