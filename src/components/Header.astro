---
import HeaderLink from "./HeaderLink.astro";
import { SITE_TITLE } from "../consts";
import OptionNavMob from "./OptionNavMob.astro";

const STYLE =
  "transition duration-300 ease-in-out hover:text-[--color-hover] hover:scale-105 active:scale-95 focus:text-[--color-focus] focus:outline-none  focus:ring-[--color-ring] active:text-[--color-active]";
---

<script>
  const open = document.getElementById("open-menu") as HTMLElement;
  const close = document.getElementById("close-menu") as HTMLElement;
  const menu = document.getElementById("mobile-menu") as HTMLElement;

  open.addEventListener("click", () => {
    menu.classList.remove("hidden");
    open.classList.add("hidden");
    close.classList.remove("hidden");
  });

  close.addEventListener("click", () => {
    menu.classList.add("hidden");
    open.classList.remove("hidden");
    close.classList.add("hidden");
  });
</script>

<header>
  <nav class="flex items-center justify-between md:items-center pt-2">
    <div
      class="md:block flex items-center justify-center w-[40%] text-center md:w-[14%] md:text-righ py-2"
    >
      <a
        class={`animate-[jello_1s_ease-in-out] block font-extrabold text-2xl md:text-3xl xl:text-4xl md:mt-2` +
          STYLE}
        href="/">{SITE_TITLE}</a
      >
    </div>

    <div
      class="hidden md:flex w-[34%] text-2xl font-medium justify-between items-center gap-5 p-2"
    >
      <HeaderLink href="/" class={STYLE}>Home</HeaderLink>
      <HeaderLink
        href="/about"
        class={`animate-[swing_1s_ease-out_1s] ${STYLE}`}
      >
        About
      </HeaderLink>
      <HeaderLink
        href="/products"
        class={`animate-[swing_1s_ease-in_2s] ${STYLE}`}
      >
        Products
      </HeaderLink>
      <HeaderLink href="/blog" class={`animate-[swing_1s_ease-in_3s] ${STYLE}`}>
        Blog
      </HeaderLink>
    </div>

    <OptionNavMob />
  </nav>

  <div
    id="mobile-menu"
    class="hidden justify-center md:hidden bg-gray-50 rounded-2xl text-white py-4 transition duration-300 ease-in-out"
  >
    <ul class="flex flex-col space-y-2 items-center">
      <li><a href="/" class="hover:underline">Home</a></li>
      <li><a href="/about" class="hover:underline">About</a></li>
      <li><a href="/products" class="hover:underline">Products</a></li>
      <li><a href="/blog" class="hover:underline">Blog</a></li>
    </ul>
  </div>
</header>
<style>
  header {
    margin: 0;
    padding: 0 1em;
    background: white;
    box-shadow: 0 2px 8px rgba(var(--black), 5%);
  }
</style>
